# Affiliate Product Showcase - Environment Configuration
# Copy this file to .env and configure your settings
# DO NOT commit .env to version control

# ============================================
# Plugin Development Settings
# ============================================
PLUGIN_DEV_MODE=false
PLUGIN_DEBUG=false
PLUGIN_TEST_MODE=false
PLUGIN_MOCK_API=false
PLUGIN_ENABLE_PROFILING=false

# ============================================
# Database Configuration (Docker)
# ============================================
# These are used by the Docker containers for local development
MYSQL_ROOT_PASSWORD=your_root_password_here
MYSQL_DATABASE=affiliate_showcase
MYSQL_USER=affiliate_user
MYSQL_PASSWORD=your_user_password_here

# WordPress Database Settings
WORDPRESS_DB_HOST=db:3306
WORDPRESS_DB_USER=${MYSQL_USER}
WORDPRESS_DB_PASSWORD=${MYSQL_PASSWORD}
WORDPRESS_DB_NAME=${MYSQL_DATABASE}

# ============================================
# Redis Configuration (Optional)
# ============================================
REDIS_PORT=6379
PLUGIN_REDIS_HOST=redis
PLUGIN_REDIS_PORT=6379
PLUGIN_REDIS_PASSWORD=
PLUGIN_REDIS_DATABASE=0
PLUGIN_REDIS_TTL=3600

# ============================================
# Docker Network Isolation (Security)
# ============================================
# These settings enforce strict network isolation between Docker projects.
# 
# HOW IT WORKS:
# - All ports bind to 127.0.0.1 (localhost) only
# - Services use unique network 'aps_network' instead of generic 'app_net'
# - Other Docker projects cannot access these services without explicit permission
#
# ACCESS CONTROL:
# By default, other projects CANNOT access:
# - WordPress (port 8000/8443)
# - MySQL database (internal only)
# - Redis cache (port 6379)
# - phpMyAdmin (port 8080)
#
# TO ALLOW CROSS-PROJECT ACCESS (explicit permission):
# docker network connect aps_network <other-container-name>
#
# PORT BINDING FORMAT:
# - "127.0.0.1:8000:80" = localhost only (SECURE)
# - "8000:80" = all interfaces (INSECURE - not used in this project)
# ============================================

# ============================================
# Web Server Configuration
# ============================================
# These ports are automatically bound to 127.0.0.1 (localhost) only
# Access WordPress at: http://127.0.0.1:8000 or http://localhost:8000
NGINX_HTTP_PORT=8000
NGINX_HTTPS_PORT=8443

# ============================================
# phpMyAdmin Configuration
# ============================================
PMA_HOST=db
PMA_USER=${MYSQL_USER}
PMA_PASSWORD=${MYSQL_PASSWORD}
PHPMYADMIN_HOST_BIND=127.0.0.1
PHPMYADMIN_PORT=8080
PMA_BLOWFISH_SECRET=your_blowfish_secret_here

# ============================================
# Let's Encrypt / SSL Configuration
# ============================================
# Optional: Only needed if you want SSL in development
LETSENCRYPT_DOMAINS=yourdomain.com,www.yourdomain.com
LETSENCRYPT_EMAIL=your-email@example.com

# ============================================
# WordPress Configuration
# ============================================
# WordPress will use the database settings above
# Add any custom WordPress constants here if needed

# Example:
# WP_DEBUG=true
# WP_DEBUG_LOG=true
# WP_DEBUG_DISPLAY=false

# ============================================
# Security Notes
# ============================================
# 1. NEVER commit .env to version control
# 2. Use strong, unique passwords for all services
# 3. Change default values before using in production
# 4. Keep this file secure and never share it
# 5. Use environment variables in production instead of .env files

# ============================================
# Development Tips
# ============================================
# - Run 'docker-compose up -d' in the docker directory
# - Access WordPress at http://127.0.0.1:8000 (localhost only)
# - Access phpMyAdmin at http://127.0.0.1:8080 (localhost only)
# - Redis is available at 127.0.0.1:6379 (localhost only)
# - Use 'docker-compose logs' to debug issues
#
# NETWORK ISOLATION VERIFICATION:
# 1. From another Docker container (different project), try:
#    curl http://host.docker.internal:8000
#    # Should FAIL - ports are localhost-bound
#
# 2. From your host machine:
#    curl http://127.0.0.1:8000
#    # Should SUCCEED - localhost access is allowed
#
# 3. Check network isolation:
#    docker network ls
#    # Should show 'aps_network' (unique to this project)

# ============================================
# Required for Docker Compose
# ============================================
# The following variables are required by docker-compose.yml
# and should be set above:
# - MYSQL_ROOT_PASSWORD
# - MYSQL_DATABASE
# - MYSQL_USER
# - MYSQL_PASSWORD
# - WORDPRESS_DB_HOST (defaults to db:3306)
# - WORDPRESS_DB_USER
# - WORDPRESS_DB_PASSWORD
# - WORDPRESS_DB_NAME
