# 1.5 — Required Things List

Framework: Modern WordPress Plugin Boilerplate (Tailwind + Vite + PSR-4)

Purpose: concise checklist of required runtime deps, dev tools, scripts, configs and next steps before implementing `package.json` and scaffolding files. Do not install here — this is a planning artifact.

## Goals
- Fast dev loop with Vite 5
- UI with React 18 + TypeScript
- Utility-first styling with Tailwind CSS 3.4 + PostCSS (postcss-import, postcss-nested)
- WordPress integration via official JS packages
- Offline / no-CDN runtime (bundle all assets)
- PSR-4 PHP autoloading for plugin server-side code

## Runtime dependencies (required)
- `react`
- `react-dom`
- `@wordpress/element`
- `@wordpress/components`
- `@wordpress/api-fetch`
- `@wordpress/i18n`
- `@wordpress/data`
- `@wordpress/hooks`
- `@heroicons/react`
- `clsx`

Notes: Use caret ranges (e.g. `^x.y.z`) when adding to `package.json`.

## Dev dependencies (required)
- `vite` (v5.x)
- `typescript` (TS 5.x)
- `tailwindcss` (3.4.x)
- `postcss`, `postcss-import`, `postcss-nested`, `autoprefixer`
- `eslint`, `@typescript-eslint/parser`, `@typescript-eslint/eslint-plugin`, `eslint-config-prettier`, `eslint-plugin-prettier`, `eslint-plugin-react`, `eslint-plugin-react-hooks`
- `prettier`
- `stylelint`, `stylelint-config-standard`, `stylelint-config-tailwindcss`
- `rimraf`, `concurrently`, `cross-env`
- `vite-plugin-checker` (optional but recommended for type checking during dev)
- `@types/react`, `@types/react-dom`

## Scripts (must include)
- `dev` — start Vite dev server
- `build` — production build (Vite)
- `preview` — preview built assets (local testing)
- `clean` — remove `dist/` and caches (use `rimraf`)
- `type-check` — `tsc --noEmit`
- `lint` — run ESLint with `--max-warnings=0`
- `format` — run Prettier on source files
- `prepare` — optional: build or copy artifacts for packaging

## Packaging / manifest requirements
- `private: true`
- `license: "GPL-2.0-or-later"`
- `engines`: `{ "node": ">=18", "npm": ">=9" }`
- `files` whitelist: include `dist/`, `src/`, `readme.html`, `README.md` (explicitly list files to publish)
- `sideEffects: false` at package level to enable tree-shaking (see notes below)
- include `repository`, `author`, `homepage` metadata

## Config files to create next
- `vite.config.ts` — entry points, build output dir `dist/`, manifest for PHP, build options (assetsInlineLimit, cssCodeSplit)
- `postcss.config.cjs` — include `postcss-import`, `tailwindcss`, `postcss-nested`, `autoprefixer`
- `tailwind.config.cjs` — content paths including `src/**/*` and `**/*.php` for JIT scanning
- `tsconfig.json` — strict TS setup for a WordPress plugin codebase (module: ESNext/moduleResolution: bundler/isolatedModules as needed)
- `.eslintrc.cjs` — WP rules + `@typescript-eslint` + Prettier integration
- `.prettierrc` — Prettier rules consistent with ESLint
- `.stylelintrc.cjs` — Stylelint + Tailwind config
- `.gitignore` — ignore `node_modules`, `dist`, caches

## Source layout (recommended)
- `src/admin/index.tsx` — admin React entry (enqueued by PHP admin hooks)
- `src/public/index.ts` — public-facing scripts if needed
- `src/styles/index.css` — Tailwind entry (include `@tailwind base; @tailwind components; @tailwind utilities;`)
- `src/components/*` — React components
- `php/src/` — PSR-4 namespaced PHP classes (plugin bootstrap, helpers, rest controllers)

## PHP integration (enqueue + manifest)
- Build should emit an asset manifest (Vite `manifest: true`) that PHP can read to enqueue hashed file names.
- Provide a small `plugin.php` or bootstrap that enqueues `dist/*.js` and `dist/*.css` for the admin using `filemtime()` for a cache-busting `ver` param.

## Packaging cautions
- `sideEffects: false` improves tree-shaking but will cause any global CSS imports to be removed if not referenced. Add global CSS files to the `sideEffects` array or import them from an entry module.

## Excluded / commented (add later if desired)
- `vitest`, `@testing-library/react` (testing stack)
- `husky`, `lint-staged` (Git hooks)
- bundle visualizer tools (`rollup-plugin-visualizer`, `vite-plugin-visualizer`)
- `@tailwindcss/forms`, `@tailwindcss/typography`, `@tailwindcss/aspect-ratio` — optional Tailwind plugins

## Next actionable steps (after review)
1. Choose latest stable versions (Jan 2026) and update `package.json` caret ranges accordingly.
2. Scaffold `vite.config.ts`, `postcss.config.cjs`, `tailwind.config.cjs`, `tsconfig.json`.
3. Add lint/format configs and run `npm run lint` / `npm run type-check` locally.
4. Scaffold `src/admin/index.tsx` + `src/styles/index.css` and a minimal PHP enqueue script.

---

Created as planning artifact for topic 1.5 — do not run installs from this file; implement after review.
