!function(t){"use strict";t.APS=t.APS||{},t.APS.Utils={getAjaxUrl:function(){return"undefined"!=typeof apsAdminVars&&apsAdminVars.ajax_url?apsAdminVars.ajax_url:"undefined"!=typeof apsData&&apsData.ajaxUrl?apsData.ajaxUrl:"undefined"!=typeof ajaxurl?ajaxurl:"/wp-admin/admin-ajax.php"},debounce:function(t,e){let n;return function(){var r=this,a=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(r,a)},e)}},escapeHtml:function(t){if("string"!=typeof t)return"";const e=document.createElement("div");return e.textContent=t,e.innerHTML},sanitizeUrl:function(t){if("string"!=typeof t)return"";if(!(t=t.trim()))return"";return/^(https?:|data:)/i.test(t)?t:0===t.indexOf("//")?"https:"+t:""},getCurrentStatusView:function(){const e=new URLSearchParams(t.location.search);return e.get("status")||e.get("aps_status")||"all"},shouldKeepRowInCurrentView:function(t){const e=this.getCurrentStatusView();return"all"===e?"trashed"!==t:e===t},parseQueryParamsFromUrl:function(e){try{return new URL(e,t.location.origin).searchParams}catch(t){return new URLSearchParams}},showNotice:function(t,e){document.querySelectorAll(".aps-js-notice").forEach(function(t){t.remove()});let n=document.querySelector(".wrap h1, .wrap h2");if(n||(n=document.querySelector(".wrap")),!n)return;const r=-1!==["success","error","warning","info"].indexOf(t)?t:"info",a=document.createElement("div");a.className="notice notice-"+r+" is-dismissible aps-js-notice";const o=document.createElement("p");o.textContent=e,a.appendChild(o);const i=document.createElement("button");i.type="button",i.className="notice-dismiss";const s=document.createElement("span");s.className="screen-reader-text",s.textContent="Dismiss this notice.",i.appendChild(s),a.appendChild(i),n.parentNode.insertBefore(a,n.nextSibling);const c=setTimeout(function(){a.style.opacity="0",a.style.transition="opacity 0.2s",setTimeout(function(){a.parentNode&&a.remove()},200)},5e3);i.addEventListener("click",function(){clearTimeout(c),a.remove()})},ajax:function(t){const e={url:this.getAjaxUrl(),method:"POST",timeout:3e4,headers:{"X-Requested-With":"XMLHttpRequest"}},n=Object.assign({},e,t),r=new FormData;n.data&&Object.keys(n.data).forEach(function(t){r.append(t,n.data[t])});const a=new AbortController,o=setTimeout(function(){a.abort()},n.timeout);return fetch(n.url,{method:n.method,body:r,headers:n.headers,credentials:"same-origin",signal:a.signal}).then(function(t){if(clearTimeout(o),!t.ok)throw new Error("HTTP "+t.status);return t.json()}).catch(function(t){if(clearTimeout(o),"AbortError"===t.name)throw new Error("Request timed out");throw t})}},t.APS_Utils=t.APS.Utils}(window);