/**
 * Admin Add Product Page Styles (BEM)
 *
 * Styles for add/edit product form page.
 * Converted from admin-add-product.css (647 lines)
 *
 * @package AffiliateProductShowcase
 * @since 1.0.0
 */

@use '../variables' as *;
@use '../mixins/breakpoints' as *;

// ============================================
// Block: Main Container
// ============================================

.affiliate-product-showcase {
	font-family: $aps-font-family-base;
}

// ============================================
// Block: Header
// ============================================

.aps-header {
	background: $aps-color-bg-card;
	padding: $aps-spacing-5 $aps-spacing-8;
	border-bottom: 1px solid $aps-color-border;
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin: (-$aps-spacing-5) (-$aps-spacing-5) $aps-spacing-8;

	&__title {
		font-size: $aps-font-size-md;
		font-weight: $aps-font-weight-semibold;
		margin: 0;
	}

	&__close {
		background: none;
		border: none;
		font-size: $aps-font-size-md;
		color: $aps-color-text-muted;
		cursor: pointer;
		padding: $aps-spacing-2;

		&:hover {
			color: $aps-color-danger;
		}
	}
}

// ============================================
// Block: Quick Navigation
// ============================================

.aps-quick-nav {
	display: flex;
	gap: $aps-spacing-4;
	padding: $aps-spacing-4 $aps-spacing-5;
	background: $aps-color-bg-light;
	border: 1px solid $aps-color-border;
	border-radius: $aps-radius-sm;
	margin-bottom: $aps-spacing-8;
	flex-wrap: wrap;

	&__link {
		display: flex;
		align-items: center;
		gap: $aps-spacing-2;
		padding: $aps-spacing-2 $aps-spacing-4;
		background: $aps-color-bg-card;
		border: 1px solid $aps-color-border;
		border-radius: $aps-radius-sm;
		color: $aps-color-text-main;
		text-decoration: none;
		font-size: $aps-font-size-base;
		font-weight: $aps-font-weight-medium;

		&:hover {
			background: $aps-color-primary;
			color: $aps-color-bg-card;
		}

		i {
			font-size: $aps-font-size-base;
		}
	}
}

// ============================================
// Block: Form Container
// ============================================

.aps-form-container {
	background: $aps-color-bg-card;
	border: 1px solid $aps-color-border;
	border-radius: $aps-radius-sm;
	padding: $aps-spacing-8;
	max-width: 1200px;
	margin-bottom: $aps-spacing-8;
}

// ============================================
// Block: Section
// ============================================

.aps-section {
	margin-bottom: $aps-spacing-10;
	padding-bottom: $aps-spacing-10;
	border-bottom: 1px solid $aps-color-border;

	&__title {
		font-size: $aps-font-size-base;
		font-weight: $aps-font-weight-semibold;
		margin: 0 0 $aps-spacing-5;
		padding-bottom: $aps-spacing-2;
		border-bottom: 2px solid $aps-color-primary;
	}
}

// ============================================
// Block: Field Group
// ============================================

.aps-field-group {
	margin-bottom: $aps-spacing-5;

	label {
		display: block;
		margin-bottom: $aps-spacing-2;
		font-weight: $aps-font-weight-medium;
		font-size: $aps-font-size-sm;
	}

	&__required {
		color: $aps-color-danger;
	}

	&__description {
		display: block;
		margin-top: $aps-spacing-1;
		font-size: $aps-font-size-xs;
		font-style: italic;
		color: $aps-color-text-muted;
	}
}

// ============================================
// Block: Form Inputs
// ============================================

.aps-input {
	width: 100%;
	padding: $aps-spacing-2 $aps-spacing-3;
	font-size: $aps-font-size-base;
	border: 1px solid $aps-color-border;
	border-radius: $aps-radius-sm;

	&:focus {
		border-color: $aps-color-primary;
		outline: 2px solid $aps-color-primary;
		outline-offset: $aps-spacing-2;
	}
}

.aps-textarea {
	min-height: 200px;
	width: 100%;
	resize: vertical;

	&--full-page {
		min-height: 200px;
		width: 100%;
		font-family: inherit;
		line-height: 1.6;
		padding: $aps-spacing-3;
	}

	&:focus {
		outline: 2px solid $aps-color-primary;
		outline-offset: $aps-spacing-2;
	}
}

.aps-select {
	width: 100%;
	padding: $aps-spacing-2 36px $aps-spacing-2 $aps-spacing-3;
	font-size: $aps-font-size-base;
	border: 1px solid $aps-color-border;
	border-radius: $aps-radius-sm;
	background: $aps-color-bg-card;
	cursor: pointer;

	&:focus {
		outline: 2px solid $aps-color-primary;
		outline-offset: $aps-spacing-2;
	}
}

.aps-input--readonly {
	background: $aps-color-bg-hover;
}

// ============================================
// Block: Checkbox Label
// ============================================

.aps-checkbox-label {
	display: flex;
	align-items: center;
	gap: $aps-spacing-2;
	cursor: pointer;

	input[type="checkbox"] {
		width: 20px;
		height: 20px;
	}
}

// ============================================
// Block: Tags Group
// ============================================

.aps-tags-group {
	display: flex;
	flex-wrap: wrap;
	gap: $aps-spacing-4;
	margin-top: $aps-spacing-2;
}

.aps-tag {
	display: inline-flex;
	align-items: center;
	gap: $aps-spacing-1;
	padding: 4px $aps-spacing-2;
	background: $aps-color-info-light;
	color: $aps-color-primary;
	border-radius: $aps-radius-sm;
	font-size: $aps-font-size-sm;

	&__remove {
		cursor: pointer;
		font-size: $aps-font-size-xs;
	}
}

// ============================================
// Block: Grid Layouts
// ============================================

.aps-grid {
	&--2 {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
		gap: $aps-spacing-5;
	}

	&--3 {
		display: grid;
		grid-template-columns: repeat(3, 1fr);
		gap: $aps-spacing-5;
	}
}

// ============================================
// Block: Upload Area
// ============================================

.aps-upload-area {
	border: 2px dashed $aps-color-border;
	border-radius: $aps-radius-sm;
	padding: $aps-spacing-5;
	text-align: center;
	background: $aps-color-bg-light;
	cursor: pointer;
	position: relative;
	min-height: 150px;

	&:hover {
		border-color: $aps-color-primary;
	}

	&__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: $aps-spacing-2;
		color: $aps-color-text-muted;

		i {
			font-size: $aps-font-size-2xl;
		}
	}

	&__preview {
		display: none;
		position: absolute;
		width: 100%;
		height: 150px;
		background-size: contain;
		background-repeat: no-repeat;
		background-position: center;
		top: 0;
		left: 0;

		&--has-image {
			display: block;
		}

		&--no-image {
			display: none;
		}
	}
}

.aps-url-input {
	margin-top: $aps-spacing-4;
}

.aps-upload-btn {
	display: inline-flex;
	align-items: center;
	gap: $aps-spacing-2;
	padding: $aps-spacing-2 $aps-spacing-4;
	background: $aps-color-primary;
	color: $aps-color-bg-card;
	border-radius: $aps-radius-sm;
	font-size: $aps-font-size-sm;
	cursor: pointer;
	margin-top: $aps-spacing-2;
	border: none;

	&:focus {
		outline: 2px solid $aps-color-primary;
		outline-offset: $aps-spacing-2;
	}

	&--cancel {
		background: transparent;
		color: $aps-color-text-muted;
	}
}

// ============================================
// Block: Multi-Select Dropdown
// ============================================

.aps-multi-select {
	position: relative;

	&__selected-tags {
		display: flex;
		flex-wrap: wrap;
		gap: $aps-spacing-1;
		border: 1px solid $aps-color-border;
		border-radius: $aps-radius-sm;
		padding: 4px $aps-spacing-2;
		min-height: 38px;
		cursor: pointer;
	}

	&__input {
		border: none;
		outline: none;
		font-size: $aps-font-size-base;
		min-width: 150px;
		flex: 1;

		&:focus {
			outline: none;
		}
	}

	&__dropdown {
		position: absolute;
		background: $aps-color-bg-card;
		border: 1px solid $aps-color-border;
		border-radius: $aps-radius-sm;
		max-height: 200px;
		overflow-y: auto;
		z-index: $aps-z-dropdown;
		display: none;

		&__item {
			padding: $aps-spacing-2 $aps-spacing-4;
			cursor: pointer;

			&:hover {
				background: $aps-color-bg-hover;
			}

			&--focused {
				background: $aps-color-bg-light;
			}
		}
	}
}

// ============================================
// Block: Features List
// ============================================

.aps-feature-list {
	&__input-group {
		display: flex;
		gap: $aps-spacing-2;
		margin-bottom: $aps-spacing-4;
	}

	&__list {
		border: 1px solid $aps-color-border;
		border-radius: $aps-radius-sm;
		max-height: 300px;
		overflow-y: auto;
		margin-top: $aps-spacing-4;
	}

	&__item {
		display: flex;
		align-items: center;
		justify-content: space-between;
		padding: $aps-spacing-2 $aps-spacing-4;
		border-bottom: 1px solid $aps-color-border-light;

		&:hover {
			background: $aps-color-bg-hover;
		}

		&--highlighted {
			background: $aps-color-info-light;
		}

		&-text {
			flex-grow: 1;
		}

		&-actions {
			display: flex;
			gap: $aps-spacing-1;

			button {
				background: none;
				border: 1px solid $aps-color-border;
				border-radius: $aps-radius-sm;
				width: 28px;
				height: 28px;
				cursor: pointer;
				color: $aps-color-text-muted;
			}
		}
	}
}

// ============================================
// Block: Word Counter
// ============================================

.aps-word-counter {
	text-align: right;
	font-size: $aps-font-size-xs;
	color: $aps-color-text-muted;
	margin-top: $aps-spacing-1;
}

// ============================================
// Block: Form Actions
// ============================================

.aps-form-actions {
	display: flex;
	align-items: center;
	gap: $aps-spacing-4;
	padding-top: $aps-spacing-5;
	border-top: 1px solid $aps-color-border;
}

// ============================================
// Block: Button
// ============================================

.aps-btn {
	display: inline-flex;
	align-items: center;
	gap: $aps-spacing-2;
	padding: $aps-spacing-2 $aps-spacing-6;
	border-radius: $aps-radius-sm;
	cursor: pointer;
	text-decoration: none;
	font-size: $aps-font-size-base;
	font-weight: $aps-font-weight-semibold;
	border: none;

	&:focus {
		outline: 2px solid $aps-color-primary;
		outline-offset: $aps-spacing-2;
	}

	&--primary {
		background: $aps-color-primary;
		color: $aps-color-bg-card;

		&:hover {
			background: $aps-color-primary-hover;
		}
	}

	&--secondary {
		background: $aps-color-secondary;
		color: $aps-color-bg-card;
	}

	&--cancel {
		background: transparent;
		color: $aps-color-text-muted;
	}
}

// ============================================
// Block: Tag Checkbox
// ============================================

.aps-tag-checkbox {
	display: flex;
	align-items: center;
	gap: $aps-spacing-2;
	padding: 6px $aps-spacing-3;
	background: $aps-color-bg-light;
	border: 1px solid $aps-color-border-light;
	border-radius: $aps-radius-sm;
	cursor: pointer;

	&__badge {
		display: inline-flex;
		align-items: center;
		gap: $aps-spacing-1;
		padding: 4px $aps-spacing-3;
		background: $aps-color-info-light;
		color: $aps-color-primary;
		border-radius: $aps-radius-sm;
		font-weight: $aps-font-weight-semibold;
		font-size: $aps-font-size-xs;
	}
}

// ============================================
// Block: Taxonomy Item
// ============================================

.aps-taxonomy-item {
	display: flex;
	align-items: center;
	gap: $aps-spacing-2;

	&__image {
		width: 24px;
		height: 24px;
		background-size: cover;
		border-radius: $aps-radius-sm;
	}

	&__badge {
		display: inline-flex;
		align-items: center;
		justify-content: center;
		width: 20px;
		height: 20px;
		border-radius: 50%;
		background: $aps-color-gold;
		color: $aps-color-bg-card;
		font-size: $aps-font-size-xs;
	}
}

// ============================================
// Block: Ribbon Item
// ============================================

.aps-ribbon-item {
	&__badge-preview {
		display: inline-flex;
		align-items: center;
		gap: $aps-spacing-1;
		padding: 4px $aps-spacing-3;
		border-radius: $aps-radius-sm;
		font-weight: $aps-font-weight-semibold;
		font-size: $aps-font-size-xs;
	}
}

// ============================================
// Block: Utility Classes
// ============================================

.aps-hidden {
	display: none !important;
}

// ============================================
// Block: Visually Hidden
// ============================================

.aps-visually-hidden {
	border: 0;
	clip: rect(1px, 1px, 1px, 1px);
	-webkit-clip-path: inset(50%);
	clip-path: inset(50%);
	height: 1px;
	margin: -1px;
	overflow: hidden;
	padding: 0;
	position: absolute;
	width: 1px;
	word-wrap: normal !important;
}

// ============================================
// Responsive Design
// ============================================

@media (max-width: $aps-breakpoint-md) {
	.aps-grid--2,
	.aps-grid--3 {
		grid-template-columns: 1fr;
	}

	.aps-quick-nav {
		flex-direction: column;
	}

	.aps-form-actions {
		flex-direction: column;
		align-items: stretch;
	}

	.aps-btn {
		width: 100%;
		justify-content: center;
	}
}

// High Contrast Mode
@include prefers-high-contrast {
	.aps-tag,
	.aps-ribbon-item__badge-preview {
		border: 1px solid currentcolor;
	}

	.aps-quick-nav__link:hover {
		text-decoration: underline;
	}
}

// Reduced Motion
@include prefers-reduced-motion {
	* {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}
