/**
 * Toasts Component (BEM)
 *
 * Toast notification styles for user feedback.
 *
 * @package AffiliateProductShowcase
 * @since 1.0.0
 */

@use '../variables' as *;
@use '../mixins/breakpoints' as *;

// ============================================
// Block: Toast Container
// ============================================

.aps-toast-container {
	position: fixed;
	bottom: $aps-spacing-5;
	right: $aps-spacing-5;
	z-index: $aps-z-toast;
	max-width: $aps-container-md;

	@include mobile-only {
		left: $aps-spacing-3;
		right: $aps-spacing-3;
		bottom: $aps-spacing-3;
		max-width: calc(100% - #{$aps-spacing-3} * 2);
	}
}

// ============================================
// Block: Toast
// ============================================

.aps-toast {
	background: $aps-color-bg-card;
	border-left: 4px solid $aps-color-primary;
	box-shadow: $aps-shadow-sm;
	margin: $aps-spacing-1 0 $aps-spacing-3;
	padding: $aps-spacing-3 $aps-spacing-4;
	display: flex;
	align-items: center;
	min-width: 300px;
	border-radius: $aps-radius-sm;
	animation: aps-slideIn $aps-transition-base ease;

	@include mobile-only {
		min-width: auto;
		width: 100%;
	}

	// ============================================
	// Modifier: Success
	// ============================================

	&--success {
		border-left-color: $aps-color-success;
	}

	// ============================================
	// Modifier: Error
	// ============================================

	&--error {
		border-left-color: $aps-color-danger;
	}

	// ============================================
	// Modifier: Warning
	// ============================================

	&--warning {
		border-left-color: $aps-color-warning;
	}

	// ============================================
	// Element: Message
	// ============================================

	&__message {
		flex: 1;
		font-size: $aps-font-size-base;
		line-height: $aps-line-height-normal;
		color: $aps-color-text-main;
	}

	// ============================================
	// Element: Close Button
	// ============================================

	&__close {
		margin-left: auto;
		padding: $aps-spacing-1;
		background: none;
		border: none;
		color: $aps-color-text-muted;
		cursor: pointer;
		font-size: $aps-font-size-lg;
		line-height: 1;
		transition: color $aps-transition-fast ease;

		&:hover {
			color: $aps-color-text-main;
		}
	}

	// ============================================
	// Accessibility
	// ============================================

	&:focus {
		outline: 2px solid $aps-color-primary;
		outline-offset: 2px;
		box-shadow: $aps-shadow-focus;
	}

	&[role="alert"] {
		&::before {
			content: '';
			display: inline-block;
			width: 1em;
			height: 1em;
			background: $aps-color-primary;
			color: $aps-color-bg-card;
			border-radius: 50%;
			margin-right: $aps-spacing-2;
			vertical-align: middle;
			font-size: 0.875rem;
			line-height: 1;
		}
	}

	// ============================================
	// Reduced Motion
	// ============================================

	@include prefers-reduced-motion {
		animation: none;
		transition: none;
	}
}

// ============================================
// Animations
// ============================================

@keyframes aps-slideIn {
	from {
		transform: translateX(100%);
		opacity: 0;
	}
	to {
		transform: translateX(0);
		opacity: 1;
	}
}

// ============================================
// Print Styles
// ============================================

@media print {
	.aps-toast-container {
		display: none;
	}
}
