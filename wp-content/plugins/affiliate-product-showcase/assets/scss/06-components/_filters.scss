/**
 * Filters Component
 * 
 * Table filters for admin product list.
 * Consolidates: admin-table-filters.css
 * 
 * @package AffiliateProductShowcase
 * @since 2.0.0
 */

@use '../01-settings/tokens-vars' as *;
@use '../02-tools/mixins' as *;

// ============================================
// Hide Native Add New Button
// ============================================

body.post-type-aps_product.edit-php {
	.page-title-action,
	.wrap .page-title-action {
		display: none !important;
	}
}

// ============================================
// Featured Filter
// ============================================

.aps-featured-filter {
	display: inline-flex;
	align-items: center;
	gap: $spacing-2;
	margin-left: $spacing-4;
	font-size: $font-size-sm;
	color: $color-text-primary;
	cursor: pointer;
	user-select: none;
	transition: color $transition-fast;
	
	&:hover {
		color: $wp-admin-theme-color;
	}
	
	input[type="checkbox"] {
		margin: 0;
		width: 16px;
		height: 16px;
		cursor: pointer;
		accent-color: $wp-admin-theme-color;
		
		&:focus-visible {
			outline: 2px solid $wp-admin-theme-color;
			outline-offset: 2px;
		}
	}
	
	@include wp-tablet-down {
		margin-left: 0;
		margin-top: $spacing-2;
		width: 100%;
	}
}

// ============================================
// Filter Dropdowns
// ============================================

.aps-filter-dropdown {
	@include input-base;
	
	margin-right: $spacing-2;
	padding: $spacing-1 $spacing-2;
	font-size: $font-size-sm;
	min-height: 30px;
	
	@include wp-tablet-down {
		margin-right: $spacing-1;
		margin-bottom: $spacing-2;
		flex: 1;
	}
}

// ID selectors for WordPress compatibility
#aps_category_filter,
#aps_tag_filter {
	@extend .aps-filter-dropdown;
}

// ============================================
// Search Input
// ============================================

.aps-search-input {
	@include input-base;
	
	margin-left: $spacing-2;
	padding: $spacing-1 $spacing-2;
	font-size: $font-size-sm;
	min-width: 200px;
	min-height: 30px;
	
	&::placeholder {
		color: $color-text-muted;
		font-style: italic;
	}
	
	@include wp-tablet-down {
		margin-left: 0;
		margin-top: $spacing-2;
		width: 100%;
		min-width: auto;
	}
}

#aps_search {
	@extend .aps-search-input;
}

// ============================================
// Sort Filter
// ============================================

.aps-sort-filter {
	float: left;
	display: inline-flex;
	align-items: center;
	margin-right: $spacing-3;
	margin-bottom: $spacing-3;
	
	.postform {
		@include input-base;
		
		margin-right: $spacing-2;
		padding: $spacing-1 $spacing-3;
		font-size: $font-size-sm;
		min-height: 30px;
	}
	
	@include wp-tablet-down {
		float: none;
		display: flex;
		width: 100%;
		margin-right: 0;
		
		.postform {
			flex: 1;
		}
	}
}

// ============================================
// Tablenav Adjustments
// ============================================

.tablenav {
	.aps-sort-filter,
	.aps-featured-filter {
		@include wp-tablet-down {
			float: none;
			display: flex;
			width: 100%;
		}
	}
}

// ============================================
// Accessibility
// ============================================

@include reduced-motion {
	.aps-featured-filter,
	.aps-filter-dropdown,
	.aps-search-input {
		transition: none;
	}
}

@include high-contrast {
	.aps-filter-dropdown,
	.aps-search-input {
		border-width: 2px;
		
		&:focus {
			outline-width: 3px;
		}
	}
}
